cmake_minimum_required(VERSION 3.16)
project(flugel_engine)

foreach(OUTPUT_CONFIG ${CMAKE_CONFIGURATION_TYPES})
  string(TOUPPER ${OUTPUT_CONFIG} OUTPUT_CONFIG_NAME)
  set(CMAKE_ARCHIVE_OUTPUT_DIRECTORY_${OUTPUT_CONFIG_NAME} "${CMAKE_SOURCE_DIR}/bin/${OUTPUT_CONFIG}/${CMAKE_SYSTEM_NAME}/lib")
  set(CMAKE_LIBRARY_OUTPUT_DIRECTORY_${OUTPUT_CONFIG_NAME} "${CMAKE_SOURCE_DIR}/bin/${OUTPUT_CONFIG}/${CMAKE_SYSTEM_NAME}/lib")
  set(CMAKE_PDB_OUTPUT_DIRECTORY_${OUTPUT_CONFIG_NAME} "${CMAKE_SOURCE_DIR}/bin/${OUTPUT_CONFIG}/${CMAKE_SYSTEM_NAME}/lib")
  set(CMAKE_RUNTIME_OUTPUT_DIRECTORY_${OUTPUT_CONFIG_NAME} "${CMAKE_SOURCE_DIR}/bin/${OUTPUT_CONFIG}/${CMAKE_SYSTEM_NAME}")  
endforeach(OUTPUT_CONFIG ${CMAKE_CONFIGURATION_TYPES})

if(WIN32)
  set(CMAKE_WIN32_EXECUTABLE $<$<OR:$<CONFIG:release>,$<CONFIG:minsizerel>>:TRUE>)
  set(CMAKE_MSVC_RUNTIME_LIBRARY "MultiThreaded$<$<OR:$<CONFIG:debug>,$<CONFIG:relwithdebinfo>>:Debug>")
endif()


add_subdirectory(flugel)
add_subdirectory(sandbox)